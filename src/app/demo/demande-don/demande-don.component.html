<div class="container">
    <button class="don-btn" (click)="ouvrirModalDemande()">Faire Un Appel Au Don</button>
    
    <div class="stats">
      <div class="stat-box">
        <span>10</span>
        <p>Total Appels</p>
      </div>
      <div class="stat-box">
        <span>2</span>
        <p>Appels en cours</p>
      </div>
      <div class="stat-box">
        <span>4</span>
        <p>Total don</p>
      </div>
    </div>
    
    <h2>Demandes Acceptées</h2>
    
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Donneur</th>
          <th>Téléphone</th>
          <th>Email</th>
          <th>Groupe Sanguin</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let demande of demandesAcceptees">
          <td>{{ demande.dateDemande | date:'dd MMM yyyy' }}</td>
          <td>{{ demande.donneur.nom }}</td>
          <td>{{ demande.donneur.telephone }}</td>
          <td>{{ demande.donneur.email }}</td>
          <td>{{ demande.groupeSanguin }}</td>
          <td><span class="status accepted">Accepté</span></td>
        </tr>
      </tbody>
    </table>
    
    <!-- Modal pour création de demande -->
    <div class="modal" [ngStyle]="{'display': modalVisible ? 'block' : 'none'}">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Créer un appel au don</h3>
          <span class="close-btn" (click)="fermerModal()">&times;</span>
        </div>
        <form (ngSubmit)="soumettreNouvelleDemande()">
          <div class="form-group">
            <label for="groupeSanguin">Groupe sanguin requis</label>
            <select id="groupeSanguin" [(ngModel)]="nouvelleDemande.groupeSanguin" name="groupeSanguin" required>
              <option value="">Sélectionner un groupe sanguin</option>
              <option value="A+">A+</option>
              <option value="A-">A-</option>
              <option value="B+">B+</option>
              <option value="B-">B-</option>
              <option value="AB+">AB+</option>
              <option value="AB-">AB-</option>
              <option value="O+">O+</option>
              <option value="O-">O-</option>
            </select>
          </div>
          <!-- <div class="form-group">
            <label for="urgence">Niveau d'urgence</label>
            <select id="urgence" [(ngModel)]="nouvelleDemande.urgence" name="urgence" required>
              <option value="NORMAL">Normal</option>
              <option value="URGENT">Urgent</option>
              <option value="CRITIQUE">Critique</option>
            </select>
          </div>
          <div class="form-group">
            <label for="quantite">Quantité nécessaire (en unités)</label>
            <input type="number" id="quantite" [(ngModel)]="nouvelleDemande.quantite" name="quantite" min="1" required>
          </div> -->
          <button type="submit" class="submit-btn">Créer l'appel au don</button>
        </form>
      </div>
    </div>
  </div>