<div class="login-container">
  <div class="login-box">
    <div class="logo">
      <img src="assets/images/logo0.png" alt="Evital-Clinik Logo">
    </div>
    <h2>SE CONNECTER</h2>
    <p>Sauvez des vies gr√¢ce au don de sang</p>

    <form (ngSubmit)="onLogin()" #loginForm="ngForm">
      <label class="label">Email</label>
      <div class="input-group">
        <input 
          type="email" 
          name="email" 
          placeholder="Email" 
          [(ngModel)]="email"
          (blur)="validateEmail()"
          #emailField="ngModel"
          required
          [class.input-error]="emailError"
        >
      </div>
      <p class="error-message" *ngIf="emailError">{{ emailError }}</p>

      <label class="label1">Mot de passe</label>
      <div class="input-group">
        <input 
          [type]="showPassword ? 'text' : 'password'"
          name="password"
          placeholder="Mot de passe"
          [(ngModel)]="password"
          (blur)="validatePassword()"
          required
          minlength="8"
          [class.input-error]="passwordError"
        >
        <span class="password-toggle" (click)="togglePasswordVisibility()">üëÅÔ∏è</span>
      </div>
      <p class="error-message" *ngIf="passwordError">{{ passwordError }}</p>
  
      <!-- Affichage des tentatives √©chou√©es -->
      <div *ngIf="failedAttempts > 0 && failedAttempts < 3 && !isLocked" class="attempts-warning">
        Attention: {{ failedAttempts }}/3 tentatives √©chou√©es
      </div>
  
      <!-- Affichage du message de verrouillage du compte -->
      <div *ngIf="isLocked" class="locked-account-warning">
        <p>Compte temporairement bloqu√© suite √† trop de tentatives √©chou√©es.</p>
        <p>Veuillez r√©essayer dans <span class="countdown">{{ remainingTime }}</span> secondes.</p>
      </div>
  
      <a href="#" class="create-account">Cr√©er un compte</a>
  
      <button class="btn" type="submit" [disabled]="!isFormValid() || isLoading || isLocked">
        {{ isLoading ? 'Chargement...' : 'CONNEXION' }}
      </button>
  
      <button class="btn google-btn">
        SE CONNECTER AVEC GOOGLE
      </button>
    </form>
  </div>

  <div class="right-section">
    <img id="logo1" src="assets/images/logo1.png" alt="Evital-Clinik Logo">
    <div class="illustration">
      <img src="assets/images/donneur.png" alt="Doctors">
    </div><br>
    <h3>VOTRE SANG A LE POUVOIR DE SAUVER DES VIES</h3>
    <p>
      Un don est un acte citoyen, solidaire et libre qui permet de r√©pondre aux besoins quotidiens de mani√®re b√©n√©vole.
      Plus vous serez nombreux et r√©guliers √† donner, plus nous pourrons aider ensemble chaque jour les patients qui en ont besoin.
    </p>
  </div>
</div>
